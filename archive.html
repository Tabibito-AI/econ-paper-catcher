<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>アーカイブ - Econ Paper Catcher</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="archive-page">
    <header>
        <div class="header-content">
            <h1>Econ Paper Catcher</h1>
            <div class="header-controls">
                <div class="filter-buttons">
                    <button class="filter-btn active">教育・労働経済学</button>
                    <button class="filter-btn">経済学一般</button>
                </div>
                <div class="archive-controls">
                    <select class="year-select">
                        <option value="2024">2024年</option>
                        <option value="2023">2023年</option>
                        <option value="2022">2022年</option>
                    </select>
                    <div class="sort-buttons">
                        <button class="sort-btn active">
                            <span class="icon">📅</span>
                            登録日付順
                        </button>
                        <button class="sort-btn">
                            <span class="icon">≡</span>
                            取得順
                        </button>
                        <button class="sort-btn">
                            <span class="icon">📚</span>
                            ジャーナル別
                        </button>
                        <button class="sort-btn">
                            <span class="icon">⏱</span>
                            出版日別
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div class="archive-layout">
            <aside class="sidebar">
                <div class="filter-section">
                    <h3>ジャーナル</h3>
                    <label class="filter-option">
                        <input type="checkbox" checked> REstat
                    </label>
                    <label class="filter-option">
                        <input type="checkbox" checked> LE
                    </label>
                </div>
                <div class="filter-section">
                    <h3>出版年</h3>
                    <label class="filter-option">
                        <input type="checkbox" checked> 2024年
                    </label>
                    <label class="filter-option">
                        <input type="checkbox" checked> 2023年
                    </label>
                </div>
            </aside>

            <section class="archive-content">
                <article class="paper-card" data-paper-id="1">
                    <div class="card-content">
                        <div class="paper-category">教育・労働経済学</div>
                        <h3 class="paper-title">[REstat] Immigration Lottery Design: Engineered and Coincidental Consequences of H-1B Reforms</h3>
                        <p class="paper-abstract">2004年のH-1B ビザ改革法は、年間85,000件のビザを割り当て、そのうち20,000件は高度学位保持者向けでした...</p>
                        <div class="paper-meta">
                            <time>2025/1/5</time>
                            <button class="expand-btn" aria-label="詳細を表示">...</button>
                        </div>
                    </div>
                </article>
                <!-- Additional paper cards would be repeated here similar to index.html -->
            </section>
        </div>
    </main>

    <div class="modal-overlay"></div>
    <div class="modal-container">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <div class="modal-body"></div>
        </div>
    </div>

    <nav class="archive-navigation">
        <a href="index.html" class="nav-link">
            <span class="icon">🏠</span>
            ホームに戻る
        </a>
    </nav>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const filterBtns = document.querySelectorAll('.filter-btn');
            const sortBtns = document.querySelectorAll('.sort-btn');
            const cards = document.querySelectorAll('.paper-card');
            const overlay = document.querySelector('.modal-overlay');
            const modalContainer = document.querySelector('.modal-container');
            const modalContent = document.querySelector('.modal-content');
            const closeBtn = document.querySelector('.close-btn');

            filterBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    filterBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                });
            });

            sortBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    sortBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                });
            });

            cards.forEach(card => {
                const expandBtn = card.querySelector('.expand-btn');
                expandBtn?.addEventListener('click', () => {
                    const paperId = card.getAttribute('data-paper-id');
                    const paperContent = document.querySelector(`.paper-card[data-paper-id="${paperId}"] .card-content`).innerHTML;
                    modalContent.querySelector('.modal-body').innerHTML = paperContent;
                    modalContainer.classList.add('active');
                    overlay.classList.add('active');
                });
            });

            overlay.addEventListener('click', () => {
                modalContainer.classList.remove('active');
                overlay.classList.remove('active');
            });

            closeBtn.addEventListener('click', () => {
                modalContainer.classList.remove('active');
                overlay.classList.remove('active');
            });
        });
    </script>
</body>
</html>
